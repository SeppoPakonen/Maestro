@startuml _shared
' Shared PlantUML styling and macros for Maestro Deep Internal Docs

' Skin Parameters
skinparam monochrome true
skinparam shadowing false
skinparam package {
    BackgroundColor LightBlue
    BorderColor DarkBlue
    FontColor DarkBlue
}
skinparam component {
    BackgroundColor LightGreen
    BorderColor DarkGreen
    FontColor DarkGreen
}
skinparam rectangle {
    BackgroundColor LightYellow
    BorderColor DarkYellow
    FontColor DarkYellow
}
skinparam database {
    BackgroundColor LightGray
    BorderColor DarkGray
    FontColor DarkGray
}
skinparam cloud {
    BackgroundColor LightSteelBlue
    BorderColor DarkBlue
    FontColor DarkBlue
}
skinparam arrow {
    Color Black
    Thickness 1
}

' Node Macros
!define FUNCTION(p_name, p_label) rectangle p_name as "p_label" <<Function>>
!define MODULE(p_name, p_label) package p_name as "p_label" <<Module>>
!define CLASS(p_name, p_label) rectangle p_name as "p_label" <<Class>>
!define ENUM(p_name, p_label) rectangle p_name as "p_label" <<Enum>>
!define ACTOR(p_name, p_label) cloud p_name as "p_label" <<Actor>>
!define DATASTORE(p_name, p_label) database p_name as "p_label" <<Data Store>>
!define VALIDATION_GATE(p_name, p_label) diamond p_name as "p_label" <<Validation Gate>>
!define HARD_STOP(p_name, p_label) circle p_name as "p_label" #Red <<Hard Stop>>

' Data Store Specific Nodes
!define DOCS_TRUTH(p_name, p_label) database p_name as "p_label" #LightGreen <<Docs Truth>>
!define SESSION_STORE(p_name, p_label) database p_name as "p_label" #LightSalmon <<Session Store>>
!define HOME_REGISTRY(p_name, p_label) database p_name as "p_label" #LightCyan <<Home Registry>>
!define CACHE(p_name, p_label) database p_name as "p_label" #LightYellow <<Cache>>

' Edge Macros (for annotations)
!unquoted procedure CALL(p_from_node, p_to_node, p_label="") as
    p_from_node --> p_to_node : p_label
!endprocedure

!unquoted procedure READ(p_from_node, p_to_store, p_label="") as
    p_from_node -[dashed]-> p_to_store : Read \n <size:8>p_label</size>
!endprocedure

!unquoted procedure WRITE(p_from_node, p_to_store, p_label="") as
    p_from_node --[#Red,dashed]-> p_to_store : Write \n <size:8>p_label</size>
!endprocedure

!unquoted procedure VALIDATE(p_from_node, p_to_gate, p_label="") as
    p_from_node --[#Blue]-> p_to_gate : Validate \n <size:8>p_label</size>
!endprocedure

!unquoted procedure SUBPROCESS(p_from_node, p_to_process, p_label="") as
    p_from_node --[#DarkGreen,dotted]-> p_to_process : Subprocess \n <size:8>p_label</size>
!endprocedure

' End shared definitions
@enduml
