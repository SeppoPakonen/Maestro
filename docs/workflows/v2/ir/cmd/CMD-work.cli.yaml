id: "CMD-work"
layer: "cli"
title: "work command surface"
status: "correct"
confidence: "high"
storage_backend: "unknown"
commands:
  - "maestro work"
  - "maestro work any"
  - "maestro work track"
  - "maestro work phase"
  - "maestro work issue"
  - "maestro work task"
  - "maestro work discuss"
  - "maestro work analyze"
  - "maestro work fix"
nodes:
  - id: "cmd_work_entry"
    type: "command"
    label: "maestro work"
  - id: "subcmd_any"
    type: "subcommand"
    label: "any"
  - id: "subcmd_track"
    type: "subcommand"
    label: "track"
  - id: "subcmd_phase"
    type: "subcommand"
    label: "phase"
  - id: "subcmd_issue"
    type: "subcommand"
    label: "issue"
  - id: "subcmd_task"
    type: "subcommand"
    label: "task"
  - id: "subcmd_discuss"
    type: "subcommand"
    label: "discuss"
  - id: "subcmd_analyze"
    type: "subcommand"
    label: "analyze"
  - id: "subcmd_fix"
    type: "subcommand"
    label: "fix"
  - id: "session_gate"
    type: "gate"
    label: "session validation"
  - id: "ai_engine_handler"
    type: "handler"
    label: "AI engine invocation"
edges:
  - from: "cmd_work_entry"
    to: "session_gate"
  - from: "session_gate"
    to: "subcmd_any"
  - from: "session_gate"
    to: "subcmd_track"
  - from: "session_gate"
    to: "subcmd_phase"
  - from: "session_gate"
    to: "subcmd_issue"
  - from: "session_gate"
    to: "subcmd_task"
  - from: "session_gate"
    to: "subcmd_discuss"
  - from: "session_gate"
    to: "subcmd_analyze"
  - from: "session_gate"
    to: "subcmd_fix"
  - from: "subcmd_any"
    to: "ai_engine_handler"
  - from: "subcmd_track"
    to: "ai_engine_handler"
  - from: "subcmd_phase"
    to: "ai_engine_handler"
  - from: "subcmd_issue"
    to: "ai_engine_handler"
  - from: "subcmd_task"
    to: "ai_engine_handler"
  - from: "subcmd_discuss"
    to: "ai_engine_handler"
  - from: "subcmd_analyze"
    to: "ai_engine_handler"
  - from: "subcmd_fix"
    to: "ai_engine_handler"
exports:
  - "writes work session logs"
  - "updates task status"
  - "writes code changes"
  - "outputs progress to stdout"
evidence:
  - "maestro/commands/work.py"
  - "docs/workflows/internal/cmd_work.md"
  - "docs/workflows/internal/cmd_work.puml"
