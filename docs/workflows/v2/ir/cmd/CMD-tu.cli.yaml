id: "CMD-tu"
layer: "cli"
title: "tu command surface"
status: "partial"
confidence: "medium"
storage_backend: "unknown"

commands:
  - "maestro tu"

nodes:
  - id: "parse_cli_args"
    type: "argparse"
    label: "Parse CLI arguments"
  - id: "determine_command_tu"
    type: "validation"
    label: "Determine command is 'tu'"
  - id: "route_to_tu_handler"
    type: "handler"
    label: "Route to TU handler"
  - id: "analyze_project_structure"
    type: "command"
    label: "Analyze project structure"
  - id: "read_source_files"
    type: "command"
    label: "Read source code files"
  - id: "perform_tu_indexing"
    type: "command"
    label: "Perform translation unit indexing"
  - id: "write_index_storage"
    type: "command"
    label: "Write index to storage"
  - id: "output_progress"
    type: "command"
    label: "Output analysis progress to stdout"

edges:
  - from: "parse_cli_args"
    to: "determine_command_tu"
  - from: "determine_command_tu"
    to: "route_to_tu_handler"
  - from: "route_to_tu_handler"
    to: "analyze_project_structure"
  - from: "analyze_project_structure"
    to: "read_source_files"
  - from: "read_source_files"
    to: "perform_tu_indexing"
  - from: "perform_tu_indexing"
    to: "write_index_storage"
  - from: "write_index_storage"
    to: "output_progress"

exports:
  - "writes index files"
  - "writes analysis results"

evidence:
  - "maestro/commands/tu.py"

notes:
  - "Specific analysis options and depth controls not detailed in documentation"
  - "Exact storage location for index files not specified"
