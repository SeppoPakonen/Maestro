id: CMD-task
layer: cli
title: task command surface
status: partial
confidence: medium
storage_backend: unknown

commands:
  - maestro task
  - maestro task list
  - maestro task add
  - maestro task remove

nodes:
  - id: start
    type: command
    label: maestro task
  - id: parse_subcommand
    type: subcommand
    label: Parse subcommand
  - id: check_session
    type: validation
    label: Check session
  - id: load_session
    type: handler
    label: Load session
  - id: route_subcommand
    type: handler
    label: Route to subcommand handler
  - id: execute_task_op
    type: handler
    label: Execute task operation
  - id: output_result
    type: command
    label: Output result

edges:
  - from: start
    to: parse_subcommand
  - from: parse_subcommand
    to: check_session
  - from: check_session
    to: load_session
    condition: session provided
  - from: check_session
    to: hard_stop
    condition: no session
  - from: load_session
    to: route_subcommand
  - from: route_subcommand
    to: execute_task_op
  - from: execute_task_op
    to: output_result

exports:
  - updates task data in docs/
  - updates session file
  - outputs task information to stdout

evidence:
  - v1/command_task.md
  - v1/command_task.puml

notes:
  - Assumed subcommands (list, add, remove) based on pattern
  - Storage backend not explicitly mentioned
  - No specific tests identified
