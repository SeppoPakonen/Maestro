id: "CMD-tu"
layer: "code"
title: "tu deep internal flow (observed)"
status: "partial"
confidence: "high"
storage_backend: "unknown"
calls:
  - maestro.main.main
  - maestro.commands.tu.handle_tu_command
  - maestro.commands.tu.detect_language_from_path
  - maestro.commands.tu.get_parser_by_language
  - maestro.commands.tu.get_files_by_language
  - maestro.commands.tu.handle_tu_build_command
  - maestro.commands.tu.handle_tu_info_command
  - maestro.commands.tu.handle_tu_query_command
  - maestro.commands.tu.handle_tu_complete_command
  - maestro.commands.tu.handle_tu_references_command
  - maestro.commands.tu.handle_tu_lsp_command
  - maestro.commands.tu.handle_tu_cache_clear_command
  - maestro.commands.tu.handle_tu_cache_stats_command
  - maestro.commands.tu.handle_tu_transform_command
  - maestro.commands.tu.handle_tu_print_ast_command
  - maestro.commands.tu.handle_tu_draft_command
  - maestro.tu.TUBuilder
  - maestro.tu.SymbolIndex
  - maestro.tu.CompletionProvider
  - maestro.tu.lsp_server.MaestroLSPServer
  - maestro.tu.transformers.UppConventionTransformer
  - maestro.tu.ASTPrinter
  - maestro.tu.code_generator.CodeGenerator
stores:
  - Source Code Files (*.cpp, *.java, *.py etc.)
  - .maestro/tu/cache/
  - .maestro/tu/analysis/symbols.db
  - .maestro/tu/draft/
  - docs/todo-classes.md
nodes:
  - id: "main"
    type: "function"
    module: "maestro/main.py"
  - id: "handle_tu_command"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "detect_language_from_path"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "get_parser_by_language"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "get_files_by_language"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "handle_tu_build_command"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "handle_tu_info_command"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "handle_tu_query_command"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "handle_tu_complete_command"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "handle_tu_references_command"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "handle_tu_lsp_command"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "handle_tu_cache_clear_command"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "handle_tu_cache_stats_command"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "handle_tu_transform_command"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "handle_tu_print_ast_command"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "handle_tu_draft_command"
    type: "function"
    module: "maestro/commands/tu.py"
  - id: "TUBuilder"
    type: "class"
    module: "maestro/tu/tu_builder.py"
  - id: "SymbolIndex"
    type: "class"
    module: "maestro/tu/indexing.py"
  - id: "CompletionProvider"
    type: "class"
    module: "maestro/tu/indexing.py"
  - id: "MaestroLSPServer"
    type: "class"
    module: "maestro/tu/lsp_server.py"
  - id: "UppConventionTransformer"
    type: "class"
    module: "maestro/tu/transformers.py"
  - id: "ASTPrinter"
    type: "class"
    module: "maestro/tu/ast.py"
  - id: "CodeGenerator"
    type: "class"
    module: "maestro/tu/code_generator.py"
  - id: "ClangParser"
    type: "class"
    module: "maestro/tu/parsers.py"
  - id: "JavaParser"
    type: "class"
    module: "maestro/tu/parsers.py"
  - id: "KotlinParser"
    type: "class"
    module: "maestro/tu/parsers.py"
  - id: "PythonParser"
    type: "class"
    module: "maestro/tu/parsers.py"
  - id: "File System"
    type: "actor"
  - id: "shutil"
    type: "actor"
  - id: "json"
    type: "actor"
  - id: "Source Files"
    type: "datastore"
  - id: "TU Cache"
    type: "datastore"
  - id: "Symbol Index DB"
    type: "datastore"
  - id: "Draft Directory"
    type: "datastore"
  - id: "docs/todo-classes.md"
    type: "datastore"
edges:
  - from: "main"
    to: "handle_tu_command"
  - from: "handle_tu_command"
    to: "detect_language_from_path"
  - from: "handle_tu_command"
    to: "get_parser_by_language"
  - from: "handle_tu_command"
    to: "handle_tu_build_command"
  - from: "handle_tu_command"
    to: "handle_tu_info_command"
  - from: "handle_tu_command"
    to: "handle_tu_query_command"
  - from: "handle_tu_command"
    to: "handle_tu_complete_command"
  - from: "handle_tu_command"
    to: "handle_tu_references_command"
  - from: "handle_tu_command"
    to: "handle_tu_lsp_command"
  - from: "handle_tu_command"
    to: "handle_tu_cache_clear_command"
  - from: "handle_tu_command"
    to: "handle_tu_cache_stats_command"
  - from: "handle_tu_command"
    to: "handle_tu_transform_command"
  - from: "handle_tu_command"
    to:
