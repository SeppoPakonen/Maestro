id: "CMD-ai"
layer: "cli"
title: "ai command surface"
status: "correct"
confidence: "high"
storage_backend: "unknown"
commands:
  - "maestro ai"
  - "maestro ai qwen"
  - "maestro ai gemini"
  - "maestro ai codex"
  - "maestro ai claude"
  - "maestro ai sync"
nodes:
  - id: "cmd_ai_parse"
    type: "command"
    label: "Parse 'ai' command"
  - id: "cmd_ai_subcmd_parse"
    type: "subcommand"
    label: "Parse AI subcommands"
  - id: "cmd_ai_qwen"
    type: "subcommand"
    label: "Route to handle_ai_qwen"
  - id: "cmd_ai_gemini"
    type: "subcommand"
    label: "Route to handle_ai_gemini"
  - id: "cmd_ai_codex"
    type: "subcommand"
    label: "Route to handle_ai_codex"
  - id: "cmd_ai_claude"
    type: "subcommand"
    label: "Route to handle_ai_claude"
  - id: "cmd_ai_sync"
    type: "subcommand"
    label: "Route to handle_ai_sync"
  - id: "cmd_ai_help"
    type: "subcommand"
    label: "Show AI help"
  - id: "cmd_ai_config_load"
    type: "handler"
    label: "Load AI configuration"
  - id: "cmd_ai_config_validate"
    type: "validation"
    label: "Validate AI configuration"
  - id: "cmd_ai_invoke"
    type: "handler"
    label: "Invoke AI engine"
  - id: "cmd_ai_output"
    type: "command"
    label: "Output AI responses to stdout"
edges:
  - from: "cmd_ai_parse"
    to: "cmd_ai_subcmd_parse"
  - from: "cmd_ai_subcmd_parse"
    to: "cmd_ai_qwen"
    condition: "Subcommand is 'qwen'"
  - from: "cmd_ai_subcmd_parse"
    to: "cmd_ai_gemini"
    condition: "Subcommand is 'gemini'"
  - from: "cmd_ai_subcmd_parse"
    to: "cmd_ai_codex"
    condition: "Subcommand is 'codex'"
  - from: "cmd_ai_subcmd_parse"
    to: "cmd_ai_claude"
    condition: "Subcommand is 'claude'"
  - from: "cmd_ai_subcmd_parse"
    to: "cmd_ai_sync"
    condition: "Subcommand is 'sync'"
  - from: "cmd_ai_subcmd_parse"
    to: "cmd_ai_help"
    condition: "No subcommand provided"
  - from: "cmd_ai_qwen"
    to: "cmd_ai_config_load"
  - from: "cmd_ai_gemini"
    to: "cmd_ai_config_load"
  - from: "cmd_ai_codex"
    to: "cmd_ai_config_load"
  - from: "cmd_ai_claude"
    to: "cmd_ai_config_load"
  - from: "cmd_ai_sync"
    to: "cmd_ai_config_load"
  - from: "cmd_ai_config_load"
    to: "cmd_ai_config_validate"
  - from: "cmd_ai_config_validate"
    to: "cmd_ai_invoke"
  - from: "cmd_ai_invoke"
    to: "cmd_ai_output"
exports:
  - "AI responses to stdout"
  - "Progress information during sync operations"
  - "Error messages if AI operations fail"
  - "AI interaction logs"
  - "Session updates"
evidence:
  - "maestro/commands/ai.py"
