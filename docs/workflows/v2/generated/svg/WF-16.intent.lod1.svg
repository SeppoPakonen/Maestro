<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="328px" preserveAspectRatio="none" style="width:1496px;height:328px;background:#FFFFFF;" version="1.1" viewBox="0 0 1496 328" width="1496px" zoomAndPan="magnify"><title>WF-16 - wsession modes &#8212; log-only vs mutation API (opt-in) (LOD1: Workflow)</title><defs/><g><g class="title" data-source-line="8"><text fill="#000000" font-family="Arial" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="827.4492" x="329.8204" y="35.6357">WF-16 - wsession modes &#8212; log-only vs mutation API (opt-in) (LOD1: Workflow)</text></g><!--cluster Command Integration--><g class="cluster" data-entity="Command Integration" data-source-line="45" data-uid="ent0007" id="cluster_Command Integration"><path d="M1221.59,123.2679 L1367.2589,123.2679 A3.75,3.75 0 0 1 1369.7589,125.7679 L1376.7589,145.3665 L1486.59,145.3665 A2.5,2.5 0 0 1 1489.09,147.8665 L1489.09,233.9579 A2.5,2.5 0 0 1 1486.59,236.4579 L1221.59,236.4579 A2.5,2.5 0 0 1 1219.09,233.9579 L1219.09,125.7679 A2.5,2.5 0 0 1 1221.59,123.2679" fill="#E6F3FF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1219.09" x2="1376.7589" y1="145.3665" y2="145.3665"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="144.6689" x="1223.09" y="138.3997">Command Integration</text></g><!--entity cmd_work_run--><g class="entity" data-entity="cmd_work_run" data-source-line="46" data-uid="ent0008" id="entity_cmd_work_run"><a href="../generated/svg/CMD-work-run.all_layers.lod1.svg" target="_top" title="../generated/svg/CMD-work-run.all_layers.lod1.svg" xlink:actuate="onRequest" xlink:href="../generated/svg/CMD-work-run.all_layers.lod1.svg" xlink:show="new" xlink:title="../generated/svg/CMD-work-run.all_layers.lod1.svg" xlink:type="simple"><rect fill="#FFFFFF" height="62.1973" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="101.4688" x="1235.35" y="158.2679"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1316.8188" y="163.2679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1314.8188" y="165.2679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1314.8188" y="169.2679"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54.4551" x="1250.35" y="191.3997">work-run</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="61.4688" x="1250.35" y="207.4983">command</text></a></g><!--entity cmd_wsession--><g class="entity" data-entity="cmd_wsession" data-source-line="47" data-uid="ent0009" id="entity_cmd_wsession"><a href="../generated/svg/CMD-wsession.all_layers.lod1.svg" target="_top" title="../generated/svg/CMD-wsession.all_layers.lod1.svg" xlink:actuate="onRequest" xlink:href="../generated/svg/CMD-wsession.all_layers.lod1.svg" xlink:show="new" xlink:title="../generated/svg/CMD-wsession.all_layers.lod1.svg" xlink:type="simple"><rect fill="#FFFFFF" height="62.1973" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="101.4688" x="1371.35" y="158.2679"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1452.8188" y="163.2679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1450.8188" y="165.2679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1450.8188" y="169.2679"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="57.5791" x="1386.35" y="191.3997">wsession</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="61.4688" x="1386.35" y="207.4983">command</text></a></g><!--entity NOTE_ANCHOR--><g class="entity" data-entity="ACTIVITY_FLOW" data-source-line="17" data-uid="ent0006" id="entity_ACTIVITY_FLOW"><path d="M908.03,57.2979 L908.03,321.4263 L1200.1384,321.4263 L1200.1384,67.2979 L1190.1384,57.2979 L908.03,57.2979" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><path d="M1190.1384,57.2979 L1190.1384,67.2979 L1200.1384,67.2979 L1190.1384,57.2979" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="271.1084" x="914.03" y="74.4917">(*) --&gt; "User runs maestro wsession command"</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="203.7407" x="914.03" y="89.4404">:Validate wsession cookie (WF-15);</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="164.0488" x="914.03" y="104.3892">:Is mutation mode enabled?;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="174.1162" x="914.03" y="119.3379">:Branch guard check (WF-14);</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="161.1543" x="914.03" y="134.2866">:Validate operation schema;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="154.6226" x="914.03" y="149.2354">:Check referential integrity;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="210.9961" x="914.03" y="164.1841">:Apply mutation to Repo Truth Store;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="206.6733" x="914.03" y="179.1328">:Append log event to Work Session;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="252.1987" x="914.03" y="194.0815">:Append audit event to Work Session Store;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="24.5718" x="914.03" y="209.0303">stop</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="24.5718" x="914.03" y="223.979">stop</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="24.5718" x="914.03" y="238.9277">stop</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="24.5718" x="914.03" y="253.8765">stop</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="24.5718" x="914.03" y="268.8252">stop</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="156.2539" x="914.03" y="283.7739">"Operation Success" --&gt; (*)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="201.7793" x="914.03" y="298.7227">"Operation Rejected/Failure" --&gt; (*)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="914.03" y="313.6714">&#160;</text></g><!--SRC=[bLLjRzCm4FxUNt5q7zWgjL5vsOSYWRgoYefjdRR1X015NkocfeuTsKwg2I7n8_Y5_1BEZfEcezkWNwRbdhldxZdVtHExP1c3N10kEsR5PKuqoU269AjKgqBIYH9AmzxK_re8oXQa47Qgf3qZ666iEH4j-rXhjGxEp_slPJnJbXqfJPaEY8d_tKNiIW9H7SkjO70zxGyFeGzhmupXIaAcA3Fm- -Sl42hjAobkeJIG5PPOPnwVps1VvRRFvG7idypV3aTmhVHg8TJweDCf34k8OT0bCbagtGLYu6n-THoFpoRlvXUT9QTiwuF4547pT6b1BROi0BtUfIfqmaQz7dp-J5LYedMWCb7vBE8wMYyYNy60Iyka7ToIJC0_8xz-xJ19mUNGgJB1TCUJgzd7sTMdU7eolyOizdi7qE-_Xku7mpJeGg8QX1chrKQqH6KPaRIByD578ZWb6AjbLIlEOD_nlpnuvK2pbgHESM2It0X6ttZhaNRoGLeGJI5PicHLER-ed1i6bJDTnJ28oeYtJZnUimNJM2U-9t0LfvhRMsyVvpdsj66t2YvOhk1A5tO9brPfLiESDlW8W9KOo05Te-6oggeD8WNbTZTi4z5ObJ_ofpjl2heiaWGZTBtqs89jwmNxnXBBQ3GbN1IQjM5FeGpwn45uD7aHuxhes4a-0gzZwCvzZjepnOLSIRMMmJ22cIplEk-WS05kV2zZtylOOqPmkglr3mN1BiHk56EIkEzt8r1kDY7-9dGHcjAQDnDNRsO4uRNDtp_W7cG8neoRZDXasVZM7xPLl4krQKJhTSRDwwmRKe4V3nLoubKhcdBgrhJ2F43g0X4t4OteBa9j39eyuXyIkQUeJRG5FbRVfCtMoN4xanJtvQJQ807j4-d2tl7XzFbq2j_H1rTChgIRiAvRRNrSH5zalNVStaeo6ZjBZ1PSbuD1b3BfLCCnCMKQJKxVzclF0H4Y5kIMQJCGYWu72C1bkCqIrjSEbdgntSSIxFUm_0YxLh35pgL_NEAHa7xjk_-HfHn69i4nqLp5myE6VtjEp22ZCCTJmYNkl788zGLmzw38iAPgOXPu13VNhZr7nalm7uHvWTVcN11fFvoUu1IIr5tTRG9_JkjKsWVd3m00]--></g></svg>