<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="248px" preserveAspectRatio="none" style="width:1937px;height:248px;background:#FFFFFF;" version="1.1" viewBox="0 0 1937 248" width="1937px" zoomAndPan="magnify"><title>WF-14 - Branch safety guardrails &#8212; branch-bound state, no branch switching during work (LOD2: Code Detail)</title><defs/><g><g class="title" data-source-line="31"><text fill="#000000" font-family="Arial" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="1155.1182" x="386.5359" y="35.6357">WF-14 - Branch safety guardrails &#8212; branch-bound state, no branch switching during work (LOD2: Code Detail)</text></g><!--cluster Implementation Commands--><g class="cluster" data-entity="Implementation Commands" data-source-line="44" data-uid="ent0011" id="cluster_Implementation Commands"><path d="M1733.69,128.5079 L1918.2691,128.5079 A3.75,3.75 0 0 1 1920.7691,131.0079 L1927.7691,150.6065 L1927.69,150.6065 A2.5,2.5 0 0 1 1930.19,153.1065 L1930.19,239.2079 A2.5,2.5 0 0 1 1927.69,241.7079 L1733.69,241.7079 A2.5,2.5 0 0 1 1731.19,239.2079 L1731.19,131.0079 A2.5,2.5 0 0 1 1733.69,128.5079" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1731.19" x2="1927.7691" y1="150.6065" y2="150.6065"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="183.5791" x="1735.19" y="143.6397">Implementation Commands</text></g><!--entity impl_work--><g class="entity" data-entity="impl_work" data-source-line="45" data-uid="ent0012" id="entity_impl_work"><a href="../generated/svg/CMD-work.code.lod2.svg" target="_top" title="../generated/svg/CMD-work.code.lod2.svg" xlink:actuate="onRequest" xlink:href="../generated/svg/CMD-work.code.lod2.svg" xlink:show="new" xlink:title="../generated/svg/CMD-work.code.lod2.svg" xlink:type="simple"><rect fill="#FFFFFF" height="62.1973" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="134.9375" x="1747.72" y="163.5079"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1862.6575" y="168.5079"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1860.6575" y="170.5079"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1860.6575" y="174.5079"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="1762.72" y="196.6397">work</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="94.9375" x="1762.72" y="212.7383">implementation</text></a></g><!--entity NOTE_ANCHOR--><g class="entity" data-entity="N1" data-source-line="17" data-uid="ent0006" id="entity_N1"><path d="M1173.94,152.2379 L1173.94,236.9815 L1364.438,236.9815 L1364.438,162.2379 L1354.438,152.2379 L1173.94,152.2379" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><path d="M1354.438,152.2379 L1354.438,162.2379 L1364.438,162.2379 L1354.438,152.2379" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="142.2891" x="1179.94" y="169.4317">Combined view (LOD2)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="1179.94" y="184.3804">&#160;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="137.998" x="1179.94" y="199.3292">This diagram combines:</text><ellipse cx="1185.44" cy="209.5328" fill="#000000" rx="2.5" ry="2.5"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="157.498" x="1191.94" y="214.2779">Intent layer (workflow logic)</text><ellipse cx="1185.44" cy="224.4815" fill="#000000" rx="2.5" ry="2.5"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="124.2871" x="1191.94" y="229.2266">Command integration</text></g><g class="entity" data-entity="N12" data-source-line="38" data-uid="ent0010" id="entity_N12"><path d="M1399.37,159.7079 L1399.37,229.5028 L1713.0033,229.5028 L1713.0033,169.7079 L1703.0033,159.7079 L1399.37,159.7079" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><path d="M1703.0033,159.7079 L1703.0033,169.7079 L1713.0033,169.7079 L1703.0033,159.7079" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145.9199" x="1405.37" y="176.9017">LOD2: Code-level detail</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="1405.37" y="191.8504">&#160;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="283.9497" x="1405.37" y="206.7992">This layer shows implementation-level callchains.</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="292.6333" x="1405.37" y="221.7479">Navigate to CMD diagrams for detailed code flows.</text></g><!--link NOTE_ANCHOR to GMN3--><!--SRC=[rPJ1Zjem48RlUOfPUbbGIGJT4pSM5dMbBKZjIZtG5JBn9B5mxCXs4g6gKX-YJzWdwTW15jezR6-jXOJa6S_y_kTphbo19K8bcL2HtGbLCSDAsB9qbnjTApxJKXjuimZhB8DZnchf5bgv9QCAKoEOF8jFZT7juV2xiCw2I-tmLXkEvf0n2-ltZ9T4K5RaX9C8dnV3qGqCOQRBhL38uO7jqLYuVbZDn_qegYscp2Bqc4eBRNh0B2nNZtURwNBsVlKnAWJ7Ymr5FS68l72Wiui8m63mITScnSbW0EirrwbDMcrscTIjJPfn8apIPacG50lbKBbupqe9hyvyUefGSV0Qeaw9bpiAhKytR0IsX_iD1XIYtsCXB731SkzQsYNQYJy6zw4wI6yBN1z5WDIvIFiXWmgNZBfw7LJ02QtEL5pz_spS6Zzyi2n3juUyPeOR9gI5dzz_m3O4XrjV1QnZ3j_IpG_RO5lXqaAe77Xj_9yti3D_GiOHEtDqLAiV_PFWZ4FlPxL3YGrIsQ3v0fwE3rjG6n1b9MdcoWKM3cTI9cLQ40GsfZDBreYSl0AdOVPXVcJFGaPZwCeJgQatA4YFp-HLD3MMqvEyl-XpvD3su2jr88ehhJowFM_05tMfAZnalxK94rclupZ9KI7nYponJPwGhA6FnLv5B3KVnxHDHdqxE2GnUt5KTmrz4rGOLdWVwtKpIcoAYXcXDwERJSV6fkDfyynJN79O4G52CGdDwCJG7zpHMElJJKZHttMfQYBZTNswgLp0yGi0]--></g></svg>