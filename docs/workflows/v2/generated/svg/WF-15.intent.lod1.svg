<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="328px" preserveAspectRatio="none" style="width:1331px;height:328px;background:#FFFFFF;" version="1.1" viewBox="0 0 1331 328" width="1331px" zoomAndPan="magnify"><title>WF-15 - Work &#8596; wsession Cookie Protocol (File-based Polling, Multi-process Safe) (LOD1: Workflow)</title><defs/><g><g class="title" data-source-line="8"><text fill="#000000" font-family="Arial" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="1057.3213" x="132.3894" y="35.6357">WF-15 - Work &#8596; wsession Cookie Protocol (File-based Polling, Multi-process Safe) (LOD1: Workflow)</text></g><!--cluster Command Integration--><g class="cluster" data-entity="Command Integration" data-source-line="35" data-uid="ent0007" id="cluster_Command Integration"><path d="M1056.6,123.2679 L1202.2689,123.2679 A3.75,3.75 0 0 1 1204.7689,125.7679 L1211.7689,145.3665 L1321.6,145.3665 A2.5,2.5 0 0 1 1324.1,147.8665 L1324.1,233.9579 A2.5,2.5 0 0 1 1321.6,236.4579 L1056.6,236.4579 A2.5,2.5 0 0 1 1054.1,233.9579 L1054.1,125.7679 A2.5,2.5 0 0 1 1056.6,123.2679" fill="#E6F3FF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1054.1" x2="1211.7689" y1="145.3665" y2="145.3665"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="144.6689" x="1058.1" y="138.3997">Command Integration</text></g><!--entity cmd_work--><g class="entity" data-entity="cmd_work" data-source-line="36" data-uid="ent0008" id="entity_cmd_work"><a href="../generated/svg/CMD-work.all_layers.lod1.svg" target="_top" title="../generated/svg/CMD-work.all_layers.lod1.svg" xlink:actuate="onRequest" xlink:href="../generated/svg/CMD-work.all_layers.lod1.svg" xlink:show="new" xlink:title="../generated/svg/CMD-work.all_layers.lod1.svg" xlink:type="simple"><rect fill="#FFFFFF" height="62.1973" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="101.4688" x="1070.37" y="158.2679"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1151.8388" y="163.2679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1149.8388" y="165.2679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1149.8388" y="169.2679"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="1085.37" y="191.3997">work</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="61.4688" x="1085.37" y="207.4983">command</text></a></g><!--entity cmd_wsession--><g class="entity" data-entity="cmd_wsession" data-source-line="37" data-uid="ent0009" id="entity_cmd_wsession"><a href="../generated/svg/CMD-wsession.all_layers.lod1.svg" target="_top" title="../generated/svg/CMD-wsession.all_layers.lod1.svg" xlink:actuate="onRequest" xlink:href="../generated/svg/CMD-wsession.all_layers.lod1.svg" xlink:show="new" xlink:title="../generated/svg/CMD-wsession.all_layers.lod1.svg" xlink:type="simple"><rect fill="#FFFFFF" height="62.1973" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="101.4688" x="1206.37" y="158.2679"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1287.8388" y="163.2679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1285.8388" y="165.2679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1285.8388" y="169.2679"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="57.5791" x="1221.37" y="191.3997">wsession</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="61.4688" x="1221.37" y="207.4983">command</text></a></g><!--entity NOTE_ANCHOR--><g class="entity" data-entity="ACTIVITY_FLOW" data-source-line="17" data-uid="ent0006" id="entity_ACTIVITY_FLOW"><path d="M735.15,57.2979 L735.15,321.4263 L1035.0533,321.4263 L1035.0533,67.2979 L1025.0533,57.2979 L735.15,57.2979" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><path d="M1025.0533,57.2979 L1025.0533,67.2979 L1035.0533,67.2979 L1025.0533,57.2979" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="263.8784" x="741.15" y="74.4917">(*) --&gt; "User initiates maestro work command"</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="218.2261" x="741.15" y="89.4404">:Generate unique session ID (cookie);</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="278.9033" x="741.15" y="104.3892">:Create work session directory and session.json;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="157.5044" x="741.15" y="119.3379">:Display session ID to user;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="187.1353" x="741.15" y="134.2866">:Inject session ID into AI prompt;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="169.0889" x="741.15" y="149.2354">:AI engine processes prompt;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="239.6367" x="741.15" y="164.1841">:maestro wsession command with cookie|</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="207.3652" x="741.15" y="179.1328">:Write breadcrumb to session inbox;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="154.6226" x="741.15" y="194.0815">:Poll for new breadcrumbs;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="183.5425" x="741.15" y="209.0303">:Validate breadcrumb message;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="157.5107" x="741.15" y="223.979">:Process valid breadcrumb;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="238.4688" x="741.15" y="238.9277">:Log error and ignore invalid breadcrumb;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="210.2788" x="741.15" y="253.8765">:Update session.json with new state;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="226.9097" x="741.15" y="268.8252">:Continue work based on session state;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="260.9902" x="741.15" y="283.7739">"Work session completes successfully" --&gt; (*)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="246.5303" x="741.15" y="298.7227">"Work session terminates with error" --&gt; (*)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="741.15" y="313.6714">&#160;</text></g><!--SRC=[bLNRRjD047tFLmpkIniHMm6LXo8XXRI1I6rJqKk4IXLjx8cpxNh7xAuJAk2LB-0B-H9cDtPn8KZWDtlEp9mpUtRyn2snG2YLaBfZxwGkXH45p4LwbnkgT3OaHGPsHk5f8J9SY4gv4MbtAhZ2m4YXMl61CRIkav-7fnKy9OUloMHeQiGmFByZjf5WLCT9fn2cerv_7tem9NC7FxvzXxL5QoLf61BTIOGpGuvIKh0xaWfxSs4nWpDIIkhyAPmmUzah3QMS1UTYWNkmUpmvx1-4YWj5wxrEfxAOSXv4GgTBCX482wUJYwFPu7JuTlAkivGPFlgWcJWOcIyTqE9H1A3RFQVAf7ZGxSBrTKQfJTPrAvkidYNI9Ej54dJ5KZlKBhuNXO9_HjxST51du3bqDaoOxc1uCRuQNxoVZOudKsQnszs3NkyLH9SM3KWjdHGEBHG2hJC4lX6aL1H2Pn7Z3zwWHiCGgBJyM24qOnuVmcuQHhttqkE61Zqgv3UOJ1fC7Pbxu6hDr_ZMaWufXzAozUxR9Hq13zs4y5ZVSdOxoc891cFWSojA5q3yXZgN6g4-JDRI2Z_8QghKqc0jtH8s_BzuuDH8PZzd4LbggcBkcJGvKi_fKoZd_GCBTgF6TGjiG_1AA9c9nrKABY5ot2JNRbjvN0iKWiUK0_AjCM5KCjTaa1jlnLwMeKrxdXizdfLr7DkS2DzEgQlwJ3ONW96DgWTWD6sV6G-eLEWjOQlKyrrKIjr7mJHidZ_m3aqXTV1Gu114jE6_J5dobUPXG3Ii3s7CvitPN5mdWfsZ5wFden5yvXnFWZGR6o9F_eDk7EajdHRPB4YwlexZ9A_zcILsbIV3ayEUZyL2gHbx2usD5MNzc8DyFnvNhYLigTw8-rk7PlJRktojhv_2nTOzSBJYlQ739l3lt6NLJsoAMXX9i_v-KFT0OhPnwQoi5rfSP33X7SD3Lx3gGxCQ_AAe2bOMvXd4_dVfikA5SwQ4TfSdntnzHUxNiJSy_oaUEhKNpKy0]--></g></svg>