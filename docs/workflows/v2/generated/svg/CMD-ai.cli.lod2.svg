<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="330px" preserveAspectRatio="none" style="width:1626px;height:330px;background:#FFFFFF;" version="1.1" viewBox="0 0 1626 330" width="1626px" zoomAndPan="magnify"><title>CMD-ai - ai command surface (LOD2: CLI Detail)</title><defs/><g><g class="title" data-source-line="8"><text fill="#000000" font-family="Arial" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="502.4121" x="557.4113" y="35.6357">CMD-ai - ai command surface (LOD2: CLI Detail)</text></g><!--entity NOTE_ANCHOR--><g class="entity" data-entity="N1" data-source-line="17" data-uid="ent0006" id="entity_N1"><path d="M601.81,57.2979 L601.81,112.144 L864.8842,112.144 L864.8842,67.2979 L854.8842,57.2979 L601.81,57.2979" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><path d="M854.8842,57.2979 L854.8842,67.2979 L864.8842,67.2979 L854.8842,57.2979" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="192.1309" x="607.81" y="74.4917">LOD2: Argument parsing detail</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="607.81" y="89.4404">&#160;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="242.0742" x="607.81" y="104.3892">See code layer for implementation details.</text></g><!--entity cli_invocation--><g class="entity" data-entity="cli_invocation" data-source-line="21" data-uid="ent0007" id="entity_cli_invocation"><rect fill="#FFFFFF" height="46.0986" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="183.958" x="900.37" y="61.6679"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1064.328" y="66.6679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1062.328" y="68.6679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1062.328" y="72.6679"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="143.958" x="915.37" y="94.7997">Maestro CLI Invocation</text></g><!--entity parse_args--><g class="entity" data-entity="parse_args" data-source-line="22" data-uid="ent0008" id="entity_parse_args"><rect fill="#FFFFFF" height="46.0986" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="172.2822" x="1119.21" y="61.6679"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1271.4922" y="66.6679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1269.4922" y="68.6679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1269.4922" y="72.6679"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="132.2822" x="1134.21" y="94.7997">Parse CLI arguments</text></g><!--entity determine_ai_command--><g class="entity" data-entity="determine_ai_command" data-source-line="23" data-uid="ent0009" id="entity_determine_ai_command"><rect fill="#FFFFFF" height="46.0986" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="204.0693" x="1326.31" y="61.6679"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1510.3793" y="66.6679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1508.3793" y="68.6679"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1508.3793" y="72.6679"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="164.0693" x="1341.31" y="94.7997">Determine command is 'ai'</text></g><!--entity parse_ai_subcommands--><g class="entity" data-entity="parse_ai_subcommands" data-source-line="24" data-uid="ent0010" id="entity_parse_ai_subcommands"><rect fill="#FFFFFF" height="46.0986" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="188.6201" x="639.04" y="172.1379"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="807.6601" y="177.1379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="805.6601" y="179.1379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="805.6601" y="183.1379"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="148.6201" x="654.04" y="205.2697">Parse AI subcommands</text></g><!--entity load_ai_config--><g class="entity" data-entity="load_ai_config" data-source-line="25" data-uid="ent0011" id="entity_load_ai_config"><rect fill="#FFFFFF" height="46.0986" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="172.3164" x="862.19" y="172.1379"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1014.5064" y="177.1379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1012.5064" y="179.1379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1012.5064" y="183.1379"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="877.19" y="205.2697">Load AI configuration</text></g><!--entity route_to_subcommand_handler--><g class="entity" data-entity="route_to_subcommand_handler" data-source-line="26" data-uid="ent0012" id="entity_route_to_subcommand_handler"><rect fill="#FFFFFF" height="46.0986" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="323.2813" x="1069.71" y="172.1379"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1372.9913" y="177.1379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1370.9913" y="179.1379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1370.9913" y="183.1379"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="283.2813" x="1084.71" y="205.2697">Route to appropriate AI subcommand handler</text></g><!--entity validate_ai_config--><g class="entity" data-entity="validate_ai_config" data-source-line="27" data-uid="ent0013" id="entity_validate_ai_config"><rect fill="#FFFFFF" height="46.0986" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="191.7646" x="1428.47" y="172.1379"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1600.2346" y="177.1379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1598.2346" y="179.1379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1598.2346" y="183.1379"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="151.7646" x="1443.47" y="205.2697">Validate AI configuration</text></g><!--entity invoke_ai_engine--><g class="entity" data-entity="invoke_ai_engine" data-source-line="28" data-uid="ent0014" id="entity_invoke_ai_engine"><rect fill="#FFFFFF" height="46.0986" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="144.2959" x="661.2" y="278.2379"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="785.4959" y="283.2379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="783.4959" y="285.2379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="783.4959" y="289.2379"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="104.2959" x="676.2" y="311.3697">Invoke AI engine</text></g><!--entity output_responses--><g class="entity" data-entity="output_responses" data-source-line="29" data-uid="ent0015" id="entity_output_responses"><rect fill="#FFFFFF" height="46.0986" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="225.2197" x="840.74" y="278.2379"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1045.9597" y="283.2379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1043.9597" y="285.2379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1043.9597" y="289.2379"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="185.2197" x="855.74" y="311.3697">Output AI responses to stdout</text></g><!--entity show_ai_help--><g class="entity" data-entity="show_ai_help" data-source-line="30" data-uid="ent0016" id="entity_show_ai_help"><rect fill="#FFFFFF" height="46.0986" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="122.4961" x="1101.1" y="278.2379"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1203.5961" y="283.2379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1201.5961" y="285.2379"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1201.5961" y="289.2379"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="82.4961" x="1116.1" y="311.3697">Show AI help</text></g><!--SRC=[ZLF1Rjim3BtxAxZiqCr0OxIxzPObBHOWJOQcsAKe3DMcRI6oQ4XoWlxzADbDbJR0PWI6m_UU-4YANro3BKAdXDI9tKdT2IDQU175hZRKwt9EYWnylGjFn2Yn4hroTwJTMl09CoE5Yl2PCNGOnJ_24u5hSlYJJ8bcPCp3yv5npWIp4YUTGfZVBow5X4lWLq5jAtG9jZULA12-hJQBwnkOhvQmG2Ua-fualSL2M8I9q4L3PWB2mdhpU9lFrlDVcuUaaIMU13Hx02FhnW5L9mX0ccwfDmNUf2ayFPLKsEn0PbSfEjXiVvr9anLjcGqUfuMIqrVHAlXVulDpWboETv0CFhpPgv1uA6rcwhv5xO3xPQMkUI2-pZHb3l-sYDmKBaY9LpHGSVjasodq4k4awP5lf- -9k8aTQN_cv5wWTOP20vTwJqNGX9QnnLmUGx7eDpl1816ZEHiKtY7c7BCnc-U2ffKQZyEJ5Yw4l0YQyWtDXSn7mkTSioLF_6M4JvB9F09YuOf4wNK5wKhMlNalJ34oPFD8h7cWdYVW24JN6UhufhiFkQ7XbyBXKXbFpnr55l8HZq_z8vGinvC-kzcFw7b7VYQxe4HTSvU2H8QW5mp1MB3fNTSxBp1eEMZH-eAiAzbiK5DWv4SuLcyREdXjWweBPCi1dyW7nWkgi3gx9xTxtYiTDiN_vstPNsLlRHdtrQy07pTjIpX-yGhyYzxrl5BHTxmrVm40]--></g></svg>