@startuml
!theme plain
skinparam backgroundColor #FFFFFF
skinparam defaultFontName Arial
skinparam ArrowColor #333333
skinparam NoteBorderColor #CCCCCC
skinparam NoteBackgroundColor #FFFFCC

title CMD-help - help deep internal flow (observed) (LOD2: Code Detail)

note right
  **Source:** [[docs/workflows/v2/ir/cmd/CMD-help.code.yaml docs/workflows/v2/ir/cmd/CMD-help.code.yaml]]
end note

rectangle "maestro.main.main\nmaestro.main" as main_entry #E6F3FF
rectangle "maestro.modules.cli_parser.create_main_parser\nmaestro.modules.cli_parser" as create_parser #E6F3FF
rectangle "argparse.ArgumentParser.parse_args\nargparse" as parse_args #E6F3FF
rectangle "maestro.modules.cli_parser.StyledArgumentParser.print_help\nmaestro.modules.cli_parser" as styled_argparser_print_help #E6F3FF
rectangle "maestro.modules.cli_parser.StyledArgumentParser.format_help\nmaestro.modules.cli_parser" as styled_argparser_format_help #E6F3FF
rectangle "argparse.ArgumentParser.format_help\nargparse" as argparser_format_help #E6F3FF
rectangle "maestro.modules.cli_parser._filter_suppressed_help\nmaestro.modules.cli_parser" as filter_suppressed_help #E6F3FF
rectangle "maestro.modules.utils.styled_print\nmaestro.modules.utils" as styled_print #E6F3FF
rectangle "maestro.modules.utils.print_subheader\nmaestro.modules.utils" as print_subheader #E6F3FF
component "maestro.modules.utils.Colors" as colors_const
rectangle "pyfiglet.figlet_format\npyfiglet" as figlet_format #E6F3FF
main_entry --> create_parser
create_parser --> parse_args
main_entry --> parse_args
main_entry --> styled_argparser_print_help
styled_argparser_print_help --> styled_argparser_format_help
styled_argparser_format_help --> argparser_format_help
styled_argparser_format_help --> filter_suppressed_help
styled_argparser_print_help --> styled_print
styled_argparser_print_help --> print_subheader
styled_argparser_print_help --> styled_print
styled_argparser_print_help --> styled_print
styled_argparser_print_help --> figlet_format
styled_print --> colors_const
print_subheader --> colors_const

note left
  **Evidence:**
  * [[docs/workflows//home/sblo/Dev/Maestro/maestro/main.py Contains the main entry point function]]
  * [[docs/workflows//home/sblo/Dev/Maestro/maestro/modules/cli_parser.py Contains the CLI parser and StyledArgumentParser]]
  * [[docs/workflows//home/sblo/Dev/Maestro/maestro/modules/utils.py Contains utility functions for styled printing]]
end note

@enduml
