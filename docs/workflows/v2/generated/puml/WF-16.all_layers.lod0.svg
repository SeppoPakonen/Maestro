<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="599px" preserveAspectRatio="none" style="width:4012px;height:599px;background:#FFFFFF;" version="1.1" viewBox="0 0 4012 599" width="4012px" zoomAndPan="magnify"><title>WF-16 - wsession modes &#8212; log-only vs mutation API (opt-in) (LOD0: Spine)</title><defs/><g><g class="title" data-source-line="31"><text fill="#000000" font-family="Arial" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="788.3584" x="1607.3658" y="35.6357">WF-16 - wsession modes &#8212; log-only vs mutation API (opt-in) (LOD0: Spine)</text></g><!--cluster Data Stores--><g class="cluster" data-entity="Data Stores" data-source-line="76" data-uid="ent0026" id="cluster_Data Stores"><path d="M2862.59,227.4879 L2941.3966,227.4879 A3.75,3.75 0 0 1 2943.8966,229.9879 L2950.8966,249.5865 L3228.59,249.5865 A2.5,2.5 0 0 1 3231.09,252.0865 L3231.09,589.7479 A2.5,2.5 0 0 1 3228.59,592.2479 L2862.59,592.2479 A2.5,2.5 0 0 1 2860.09,589.7479 L2860.09,229.9879 A2.5,2.5 0 0 1 2862.59,227.4879" fill="#F0F0F0" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="2860.09" x2="2950.8966" y1="249.5865" y2="249.5865"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="77.8066" x="2864.09" y="242.6197">Data Stores</text></g><!--cluster Uses Commands--><g class="cluster" data-entity="Uses Commands" data-source-line="84" data-uid="ent0030" id="cluster_Uses Commands"><path d="M3788.59,240.0379 L3903.1828,240.0379 A3.75,3.75 0 0 1 3905.6828,242.5379 L3912.6828,262.1365 L4002.59,262.1365 A2.5,2.5 0 0 1 4005.09,264.6365 L4005.09,324.6379 A2.5,2.5 0 0 1 4002.59,327.1379 L3788.59,327.1379 A2.5,2.5 0 0 1 3786.09,324.6379 L3786.09,242.5379 A2.5,2.5 0 0 1 3788.59,240.0379" fill="#E6F3FF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="3786.09" x2="3912.6828" y1="262.1365" y2="262.1365"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="113.5928" x="3790.09" y="255.1697">Uses Commands</text></g><!--entity repo_truth--><g class="entity" data-entity="repo_truth" data-source-line="77" data-uid="ent0027" id="entity_repo_truth"><path d="M2876.23,272.4879 C2876.23,262.4879 2934.0816,262.4879 2934.0816,262.4879 C2934.0816,262.4879 2991.9331,262.4879 2991.9331,272.4879 L2991.9331,313.6851 C2991.9331,323.6851 2934.0816,323.6851 2934.0816,323.6851 C2934.0816,323.6851 2876.23,323.6851 2876.23,313.6851 L2876.23,272.4879" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M2876.23,272.4879 C2876.23,282.4879 2934.0816,282.4879 2934.0816,282.4879 C2934.0816,282.4879 2991.9331,282.4879 2991.9331,272.4879" fill="none" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="63.8203" x="2886.23" y="299.6197">repo_truth</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="95.7031" x="2886.23" y="315.7183">./docs/maestro/</text></g><!--entity wsession_cookie--><g class="entity" data-entity="wsession_cookie" data-source-line="78" data-uid="ent0028" id="entity_wsession_cookie"><path d="M3027.05,272.4879 C3027.05,262.4879 3121.0876,262.4879 3121.0876,262.4879 C3121.0876,262.4879 3215.1252,262.4879 3215.1252,272.4879 L3215.1252,313.6851 C3215.1252,323.6851 3121.0876,323.6851 3121.0876,323.6851 C3121.0876,323.6851 3027.05,323.6851 3027.05,313.6851 L3027.05,272.4879" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M3027.05,272.4879 C3027.05,282.4879 3121.0876,282.4879 3121.0876,282.4879 C3121.0876,282.4879 3215.1252,282.4879 3215.1252,272.4879" fill="none" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="105.834" x="3037.05" y="299.6197">wsession_cookie</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="168.0752" x="3037.05" y="315.7183">/.maestro/wsession_cookie</text></g><!--entity work_session_store--><g class="entity" data-entity="work_session_store" data-source-line="79" data-uid="ent0029" id="entity_work_session_store"><path d="M2876.38,525.0479 C2876.38,515.0479 2982.0831,515.0479 2982.0831,515.0479 C2982.0831,515.0479 3087.7863,515.0479 3087.7863,525.0479 L3087.7863,566.2451 C3087.7863,576.2451 2982.0831,576.2451 2982.0831,576.2451 C2982.0831,576.2451 2876.38,576.2451 2876.38,566.2451 L2876.38,525.0479" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M2876.38,525.0479 C2876.38,535.0479 2982.0831,535.0479 2982.0831,535.0479 C2982.0831,535.0479 3087.7863,535.0479 3087.7863,525.0479" fill="none" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="123.7236" x="2886.38" y="552.1797">work_session_store</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="191.4063" x="2886.38" y="568.2783">./docs/maestro/work_sessions/</text></g><!--entity uses_work_run--><g class="entity" data-entity="uses_work_run" data-source-line="85" data-uid="ent0031" id="entity_uses_work_run"><a href="../generated/svg/CMD-work-run.all_layers.lod0.svg" target="_top" title="../generated/svg/CMD-work-run.all_layers.lod0.svg" xlink:actuate="onRequest" xlink:href="../generated/svg/CMD-work-run.all_layers.lod0.svg" xlink:show="new" xlink:title="../generated/svg/CMD-work-run.all_layers.lod0.svg" xlink:type="simple"><rect fill="#FFFFFF" height="36.0986" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="74.4551" x="3801.86" y="275.0379"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54.4551" x="3811.86" y="298.1697">work-run</text></a></g><!--entity uses_wsession--><g class="entity" data-entity="uses_wsession" data-source-line="86" data-uid="ent0032" id="entity_uses_wsession"><a href="../generated/svg/CMD-wsession.all_layers.lod0.svg" target="_top" title="../generated/svg/CMD-wsession.all_layers.lod0.svg" xlink:actuate="onRequest" xlink:href="../generated/svg/CMD-wsession.all_layers.lod0.svg" xlink:show="new" xlink:title="../generated/svg/CMD-wsession.all_layers.lod0.svg" xlink:type="simple"><rect fill="#FFFFFF" height="36.0986" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="77.5791" x="3911.3" y="275.0379"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="57.5791" x="3921.3" y="298.1697">wsession</text></a></g><!--entity NOTE_ANCHOR--><g class="entity" data-entity="N1" data-source-line="17" data-uid="ent0006" id="entity_N1"><path d="M3249.84,250.7179 L3249.84,335.4615 L3440.338,335.4615 L3440.338,260.7179 L3430.338,250.7179 L3249.84,250.7179" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><path d="M3430.338,250.7179 L3430.338,260.7179 L3440.338,260.7179 L3430.338,250.7179" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="142.2891" x="3255.84" y="267.9117">Combined view (LOD0)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="3255.84" y="282.8604">&#160;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="137.998" x="3255.84" y="297.8092">This diagram combines:</text><ellipse cx="3261.34" cy="308.0128" fill="#000000" rx="2.5" ry="2.5"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="157.498" x="3267.84" y="312.7579">Intent layer (workflow logic)</text><ellipse cx="3261.34" cy="322.9615" fill="#000000" rx="2.5" ry="2.5"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="124.2871" x="3267.84" y="327.7066">Command integration</text></g><g class="entity" data-entity="ACTIVITY_FLOW" data-source-line="38" data-uid="ent0010" id="entity_ACTIVITY_FLOW"><path d="M3475.03,131.1279 L3475.03,455.0512 L3767.1384,455.0512 L3767.1384,141.1279 L3757.1384,131.1279 L3475.03,131.1279" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><path d="M3757.1384,131.1279 L3757.1384,141.1279 L3767.1384,141.1279 L3757.1384,131.1279" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="271.1084" x="3481.03" y="148.3217">(*) --&gt; "User runs maestro wsession command"</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="244.772" x="3481.03" y="163.2704">if "Validate wsession cookie (WF-15)" then</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="58.1509" x="3488.2536" y="178.2192">--&gt;[yes] ...</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="52.3809" x="3488.2536" y="193.1679">--&gt;[no] ...</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="28.1899" x="3481.03" y="208.1166">endif</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="205.0801" x="3481.03" y="223.0654">if "Is mutation mode enabled?" then</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="58.1509" x="3488.2536" y="238.0141">--&gt;[yes] ...</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="52.3809" x="3488.2536" y="252.9628">--&gt;[no] ...</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="28.1899" x="3481.03" y="267.9115">endif</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="215.1475" x="3481.03" y="282.8603">if "Branch guard check (WF-14)" then</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="58.1509" x="3488.2536" y="297.809">--&gt;[yes] ...</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="52.3809" x="3488.2536" y="312.7577">--&gt;[no] ...</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="28.1899" x="3481.03" y="327.7065">endif</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="202.1855" x="3481.03" y="342.6552">if "Validate operation schema" then</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="58.1509" x="3488.2536" y="357.6039">--&gt;[yes] ...</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="52.3809" x="3488.2536" y="372.5527">--&gt;[no] ...</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="28.1899" x="3481.03" y="387.5014">endif</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="195.6538" x="3481.03" y="402.4501">if "Check referential integrity" then</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="58.1509" x="3488.2536" y="417.3988">--&gt;[yes] ...</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="52.3809" x="3488.2536" y="432.3476">--&gt;[no] ...</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="28.1899" x="3481.03" y="447.2963">endif</text></g><!--link NOTE_ANCHOR to GMN3--><!--link NOTE_ANCHOR to GMN7--><!--link NOTE_ANCHOR to GMN11--><!--link NOTE_ANCHOR to GMN14--><!--link NOTE_ANCHOR to GMN17--><!--link NOTE_ANCHOR to GMN20--><!--SRC=[rLRTRjf85BxtKvoo5mkMiCDscujSR4KXA4WXH86qMf78cjXZCyju1isCGQZggW_H9-oJx9cn3IPjf6sQYrt31Smvyvtl_FkLMTASmfeJ9ZozOc9D5CdXWSIhJCb290F9fO9VHkvfQ2Gq9GKt8odC5K64lcA4D-HzfUIsklpQFGtXbJJqdLG9LPN6m3sFDRv70hKymmody67KxPr25mOoVs229d19TbHfQ5zEXoSTpoiqZOccq28YNahL0gBXQZe_Z_fNWulfZRTa2Jqw46WJ5CkM1cHw907m_PaiL4pFV1yMYqJ6EjnAjKgvtEfmyrl8LBXDGqSfOC9GOO8ToJdyQytxUu-A12m7hsHYwVQSwRs76qQtbN- -ZoBypfTCGy98PgCMbuhwp5w3iKC7RiC2xPe4S9cnkECq43WdQDNoG033f6YmUFN_husjfbgZLv3BX6hu-lcBTRyh1T_1HaDU6ESqzA_7q9PhqsMYKmRu36Ph36N7-m-MHNym7xyVp_-CHfVJ3yYYxNUWs_q3MhSQCwqAWPuHgesIXm34PQfRgCvIQBqdd2K4uHeASiKej2s5DvqMOF85AeD5NkoeleSW2FO7GjR_aHvBAzHn8wGsuYWa3vmcRvy7zqxPreMi82g1U4dZLKdlzsVIspijrxIiTj08cvFdmGqS8qLJgZ1TME9L7p6p-r70VOwVB3PRuIVukAAxwDyCOJQVNll-dRYXVz7OOB7VYfMGMu5TRJFvCfYJEfqJcyuXqowVBuCz5XkR49Zkip5psNWPz9j6NiPrNc14sC_olx3Lg8rSev6gGYTCvyJ4oqQlhd50aGotpv0O0ZCZ5TKj13sn7_Y8i5Y9vC4jA4NNCZAgCCix4OHkDbJz6xgjTP0VNQjRDofRzqxy7GRrlKSo1_Fex1WBPr5KoxLb-msLfeekYNrxo_la_Mf74Owamuz3C710wNhhs72SduvUZqOk70hJHaJ6Ap9T76FE1gvn7Jb3U893DWZ2Z0fRCJG9zIOB1vDXjxuH4CuZj_1qm6Lo4g02Zj1Zz8fm0xsUWK-XL_8dq3zLavdJzBihudo3Rnh2BGctTHUBJI_KCSv6nMJKEztRZ-hX6Rbr5UJO6rYRJ609Rtgmt-2ObYB7qYwR9iNrTzXppV6hdUi_O71Tu6wwvaIOsydb_gtYs81Rf3MLe_Nq3m00]--></g></svg>