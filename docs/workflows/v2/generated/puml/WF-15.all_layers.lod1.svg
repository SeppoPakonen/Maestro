<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="393px" preserveAspectRatio="none" style="width:1907px;height:393px;background:#FFFFFF;" version="1.1" viewBox="0 0 1907 393" width="1907px" zoomAndPan="magnify"><title>WF-15 - Work &#8596; wsession Cookie Protocol (File-based Polling, Multi-process Safe) (LOD1: Workflow)</title><defs/><g><g class="title" data-source-line="31"><text fill="#000000" font-family="Arial" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="1057.3213" x="420.3894" y="35.6357">WF-15 - Work &#8596; wsession Cookie Protocol (File-based Polling, Multi-process Safe) (LOD1: Workflow)</text></g><!--cluster Command Integration--><g class="cluster" data-entity="Command Integration" data-source-line="56" data-uid="ent0011" id="cluster_Command Integration"><path d="M1632.6,188.1279 L1778.2689,188.1279 A3.75,3.75 0 0 1 1780.7689,190.6279 L1787.7689,210.2265 L1897.6,210.2265 A2.5,2.5 0 0 1 1900.1,212.7265 L1900.1,298.8179 A2.5,2.5 0 0 1 1897.6,301.3179 L1632.6,301.3179 A2.5,2.5 0 0 1 1630.1,298.8179 L1630.1,190.6279 A2.5,2.5 0 0 1 1632.6,188.1279" fill="#E6F3FF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1630.1" x2="1787.7689" y1="210.2265" y2="210.2265"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="144.6689" x="1634.1" y="203.2597">Command Integration</text></g><!--entity cmd_work--><g class="entity" data-entity="cmd_work" data-source-line="57" data-uid="ent0012" id="entity_cmd_work"><a href="../generated/svg/CMD-work.all_layers.lod1.svg" target="_top" title="../generated/svg/CMD-work.all_layers.lod1.svg" xlink:actuate="onRequest" xlink:href="../generated/svg/CMD-work.all_layers.lod1.svg" xlink:show="new" xlink:title="../generated/svg/CMD-work.all_layers.lod1.svg" xlink:type="simple"><rect fill="#FFFFFF" height="62.1973" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="101.4688" x="1646.37" y="223.1279"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1727.8388" y="228.1279"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1725.8388" y="230.1279"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1725.8388" y="234.1279"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="1661.37" y="256.2597">work</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="61.4688" x="1661.37" y="272.3583">command</text></a></g><!--entity cmd_wsession--><g class="entity" data-entity="cmd_wsession" data-source-line="58" data-uid="ent0013" id="entity_cmd_wsession"><a href="../generated/svg/CMD-wsession.all_layers.lod1.svg" target="_top" title="../generated/svg/CMD-wsession.all_layers.lod1.svg" xlink:actuate="onRequest" xlink:href="../generated/svg/CMD-wsession.all_layers.lod1.svg" xlink:show="new" xlink:title="../generated/svg/CMD-wsession.all_layers.lod1.svg" xlink:type="simple"><rect fill="#FFFFFF" height="62.1973" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="101.4688" x="1782.37" y="223.1279"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1863.8388" y="228.1279"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1861.8388" y="230.1279"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1861.8388" y="234.1279"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="57.5791" x="1797.37" y="256.2597">wsession</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="61.4688" x="1797.37" y="272.3583">command</text></a></g><!--entity NOTE_ANCHOR--><g class="entity" data-entity="N1" data-source-line="17" data-uid="ent0006" id="entity_N1"><path d="M1085.85,211.8479 L1085.85,296.5915 L1276.348,296.5915 L1276.348,221.8479 L1266.348,211.8479 L1085.85,211.8479" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><path d="M1266.348,211.8479 L1266.348,221.8479 L1276.348,221.8479 L1266.348,211.8479" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="142.2891" x="1091.85" y="229.0417">Combined view (LOD1)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="1091.85" y="243.9904">&#160;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="137.998" x="1091.85" y="258.9392">This diagram combines:</text><ellipse cx="1097.35" cy="269.1428" fill="#000000" rx="2.5" ry="2.5"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="157.498" x="1103.85" y="273.8879">Intent layer (workflow logic)</text><ellipse cx="1097.35" cy="284.0915" fill="#000000" rx="2.5" ry="2.5"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="124.2871" x="1103.85" y="288.8366">Command integration</text></g><g class="entity" data-entity="ACTIVITY_FLOW" data-source-line="38" data-uid="ent0010" id="entity_ACTIVITY_FLOW"><path d="M1311.15,122.1579 L1311.15,386.2863 L1611.0533,386.2863 L1611.0533,132.1579 L1601.0533,122.1579 L1311.15,122.1579" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><path d="M1601.0533,122.1579 L1601.0533,132.1579 L1611.0533,132.1579 L1601.0533,122.1579" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="263.8784" x="1317.15" y="139.3517">(*) --&gt; "User initiates maestro work command"</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="218.2261" x="1317.15" y="154.3004">:Generate unique session ID (cookie);</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="278.9033" x="1317.15" y="169.2492">:Create work session directory and session.json;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="157.5044" x="1317.15" y="184.1979">:Display session ID to user;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="187.1353" x="1317.15" y="199.1466">:Inject session ID into AI prompt;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="169.0889" x="1317.15" y="214.0954">:AI engine processes prompt;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="239.6367" x="1317.15" y="229.0441">:maestro wsession command with cookie|</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="207.3652" x="1317.15" y="243.9928">:Write breadcrumb to session inbox;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="154.6226" x="1317.15" y="258.9415">:Poll for new breadcrumbs;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="183.5425" x="1317.15" y="273.8903">:Validate breadcrumb message;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="157.5107" x="1317.15" y="288.839">:Process valid breadcrumb;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="238.4688" x="1317.15" y="303.7877">:Log error and ignore invalid breadcrumb;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="210.2788" x="1317.15" y="318.7365">:Update session.json with new state;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="226.9097" x="1317.15" y="333.6852">:Continue work based on session state;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="260.9902" x="1317.15" y="348.6339">"Work session completes successfully" --&gt; (*)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="246.5303" x="1317.15" y="363.5827">"Work session terminates with error" --&gt; (*)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="1317.15" y="378.5314">&#160;</text></g><!--link NOTE_ANCHOR to GMN3--><!--SRC=[rLN1ZjCm4BttAuPmQIkQgA3bi4X8fRk5Ijtj2dQfK46LcqnJiuuTRAUb0gvy0L_8bp1sacuAHO8RHBqqysRclV7pv9vTOuQG2yPboznocJFDCbYo-3RLgf39K0cbuVx8Fmr4WYjM23jIqbuogZ3Gd8b6VA2rsbR9Z_pJ25ugYy-KJb1NYA5_VaOS8q6ebkLM8Cn6lVu9z62eiYMNcC24xL0RQ4-cP_rEgrKOZ9b129YCrqe7m0nSJg_F5uFBuOlfozQQ9tZmGb9Fq3nTMr2hWmX0j_jA5Jh6qsuNvlD4nIRQAdsx4cfheit3YEjekueyfP1BYzA6EvO9-6FaktSjb0au3gsIYQFRzwtt2ZSSjvM-RfT2zBjUSmC9PwcRMbm2pQbBWx6l3iAD1Ter2H0gvN778wXmngYhuq45B5UomUBU_- -D6Oc6xr-_mTQWCIIF9AjRZd2bbLMn4j0USO6z9HabWIib19Vf0xWWzhoNQnLJ5hnYA-oKOp_r5TqOEwr_q2-3uVNuzVZwpM8qcSw8HRlRWLxlAGGtXYp09RUSMJIGCJHMAt2Dd6cS2GB2dpv7YUG3X4Bo3mL2FRNn6RHZFxdE4uSRQdGedrzZ4gunjahlm5cgUXk-Dqhwb3Dko4cxPachW2wfzk6nV4_PpIY9LJ0O0nr3bbiFedyeKt8uL6T3MXhXlQowIYKDjjokeUJ_sG5dcXFx9Ob8ObraIyUapk5ogJxwSiuEi29pIRfrTs3ZWw-Pu0axh99H2PPYcLoPP-Dm3P0FJbGAI9T0-r7nL2gDrFWezYRtRPhpBFKuLiPIh3mHkcnS5jMPb7ucPArg3mncpJEZ0UK2dILC4Jk-gqA8NU1DG-Rv1MzHPrnw3taENaGJVcVAd6ue3GE2UicCxvPC0FVF7uyUZKRmYN8S2INTgWeS-RUoTgIpT9mb2ozfFW_3AAtycKHcaqR3YxEUYuLCY8LVSoOKAkc75AJxSLYvad2aUYtkTntgqH_lygMwVW9NH_V0-OQ-Cz9l0hzpv_DDFp8nIgQvMlHFlBezYKNfqaLUxQSmIs1AEuQ6Bc3JX_qMfqLHPAJCpzEB_UlIUK4BvqemQMyk9ljlY3CyBVvzfuD5ymC0]--></g></svg>