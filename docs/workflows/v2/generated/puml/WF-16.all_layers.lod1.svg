<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="393px" preserveAspectRatio="none" style="width:2071px;height:393px;background:#FFFFFF;" version="1.1" viewBox="0 0 2071 393" width="2071px" zoomAndPan="magnify"><title>WF-16 - wsession modes &#8212; log-only vs mutation API (opt-in) (LOD1: Workflow)</title><defs/><g><g class="title" data-source-line="31"><text fill="#000000" font-family="Arial" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="827.4492" x="617.3204" y="35.6357">WF-16 - wsession modes &#8212; log-only vs mutation API (opt-in) (LOD1: Workflow)</text></g><!--cluster Command Integration--><g class="cluster" data-entity="Command Integration" data-source-line="66" data-uid="ent0011" id="cluster_Command Integration"><path d="M1796.59,188.1279 L1942.2589,188.1279 A3.75,3.75 0 0 1 1944.7589,190.6279 L1951.7589,210.2265 L2061.59,210.2265 A2.5,2.5 0 0 1 2064.09,212.7265 L2064.09,298.8179 A2.5,2.5 0 0 1 2061.59,301.3179 L1796.59,301.3179 A2.5,2.5 0 0 1 1794.09,298.8179 L1794.09,190.6279 A2.5,2.5 0 0 1 1796.59,188.1279" fill="#E6F3FF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1794.09" x2="1951.7589" y1="210.2265" y2="210.2265"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="144.6689" x="1798.09" y="203.2597">Command Integration</text></g><!--entity cmd_work_run--><g class="entity" data-entity="cmd_work_run" data-source-line="67" data-uid="ent0012" id="entity_cmd_work_run"><a href="../generated/svg/CMD-work-run.all_layers.lod1.svg" target="_top" title="../generated/svg/CMD-work-run.all_layers.lod1.svg" xlink:actuate="onRequest" xlink:href="../generated/svg/CMD-work-run.all_layers.lod1.svg" xlink:show="new" xlink:title="../generated/svg/CMD-work-run.all_layers.lod1.svg" xlink:type="simple"><rect fill="#FFFFFF" height="62.1973" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="101.4688" x="1810.35" y="223.1279"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1891.8188" y="228.1279"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1889.8188" y="230.1279"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1889.8188" y="234.1279"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="54.4551" x="1825.35" y="256.2597">work-run</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="61.4688" x="1825.35" y="272.3583">command</text></a></g><!--entity cmd_wsession--><g class="entity" data-entity="cmd_wsession" data-source-line="68" data-uid="ent0013" id="entity_cmd_wsession"><a href="../generated/svg/CMD-wsession.all_layers.lod1.svg" target="_top" title="../generated/svg/CMD-wsession.all_layers.lod1.svg" xlink:actuate="onRequest" xlink:href="../generated/svg/CMD-wsession.all_layers.lod1.svg" xlink:show="new" xlink:title="../generated/svg/CMD-wsession.all_layers.lod1.svg" xlink:type="simple"><rect fill="#FFFFFF" height="62.1973" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="101.4688" x="1946.35" y="223.1279"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2027.8188" y="228.1279"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2025.8188" y="230.1279"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2025.8188" y="234.1279"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="57.5791" x="1961.35" y="256.2597">wsession</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="61.4688" x="1961.35" y="272.3583">command</text></a></g><!--entity NOTE_ANCHOR--><g class="entity" data-entity="N1" data-source-line="17" data-uid="ent0006" id="entity_N1"><path d="M1257.84,211.8479 L1257.84,296.5915 L1448.338,296.5915 L1448.338,221.8479 L1438.338,211.8479 L1257.84,211.8479" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><path d="M1438.338,211.8479 L1438.338,221.8479 L1448.338,221.8479 L1438.338,211.8479" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="142.2891" x="1263.84" y="229.0417">Combined view (LOD1)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="1263.84" y="243.9904">&#160;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="137.998" x="1263.84" y="258.9392">This diagram combines:</text><ellipse cx="1269.34" cy="269.1428" fill="#000000" rx="2.5" ry="2.5"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="157.498" x="1275.84" y="273.8879">Intent layer (workflow logic)</text><ellipse cx="1269.34" cy="284.0915" fill="#000000" rx="2.5" ry="2.5"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="124.2871" x="1275.84" y="288.8366">Command integration</text></g><g class="entity" data-entity="ACTIVITY_FLOW" data-source-line="38" data-uid="ent0010" id="entity_ACTIVITY_FLOW"><path d="M1483.03,122.1579 L1483.03,386.2863 L1775.1384,386.2863 L1775.1384,132.1579 L1765.1384,122.1579 L1483.03,122.1579" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><path d="M1765.1384,122.1579 L1765.1384,132.1579 L1775.1384,132.1579 L1765.1384,122.1579" fill="#FFFFCC" style="stroke:#CCCCCC;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="271.1084" x="1489.03" y="139.3517">(*) --&gt; "User runs maestro wsession command"</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="203.7407" x="1489.03" y="154.3004">:Validate wsession cookie (WF-15);</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="164.0488" x="1489.03" y="169.2492">:Is mutation mode enabled?;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="174.1162" x="1489.03" y="184.1979">:Branch guard check (WF-14);</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="161.1543" x="1489.03" y="199.1466">:Validate operation schema;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="154.6226" x="1489.03" y="214.0954">:Check referential integrity;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="210.9961" x="1489.03" y="229.0441">:Apply mutation to Repo Truth Store;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="206.6733" x="1489.03" y="243.9928">:Append log event to Work Session;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="252.1987" x="1489.03" y="258.9415">:Append audit event to Work Session Store;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="24.5718" x="1489.03" y="273.8903">stop</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="24.5718" x="1489.03" y="288.839">stop</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="24.5718" x="1489.03" y="303.7877">stop</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="24.5718" x="1489.03" y="318.7365">stop</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="24.5718" x="1489.03" y="333.6852">stop</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="156.2539" x="1489.03" y="348.6339">"Operation Success" --&gt; (*)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="201.7793" x="1489.03" y="363.5827">"Operation Rejected/Failure" --&gt; (*)</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="1489.03" y="378.5314">&#160;</text></g><!--link NOTE_ANCHOR to GMN3--><!--SRC=[rLRTRjis5BxtKvow5xCDs8BNDXSQqC5rOynO4XU9sw382e4HQPipHGea9ICe2lGX-eHzaXrIb2ndJhBUTO810phV-VlEdvxP3SiOv89msJ5RBdEYIGQt9DskjIeadIgXD3oV-QU5e6n52c5dIjeBWXOccXFHaa-qLhkW_C8_BU65ikoDqfJfW9ZwvpxYM128wbXk1OFhsN1y0aEOgkoMIqRXZDmnRQ1tjdWxxdSwXM4fCGowHAORfRj035mibgV9v6Bwn-Aoi-6K7RoGw1CqNsyigDM1160mk5A5Jbay6C3D3LMfYNPARrT2xKnK_Xfn7UrMaGzfnALbqexkI2RWFoC_VUemIS75qAaYSU6ElUicmvApNSXlC40H_fORRe1oidQifHNGn4uDvjuw24SBzEeWGAWrJ_iUWOOpWbvT76Z0SYLRKJpx__V6pZ1ZC2l856K6ld_zvj8VAYdke3IG5TOd3PDtS-Yft0wvx5S4nt0T2EjtViBEc4oNym_pvSTaThQunYXwWpuCXw-X-zvWiNKXCJd2ZDLgpq5QLRkByFW34PmIjDMIgYrdq7F-N_L_Sw1vYo578319RWMZltlf6-q62zO5qHJI3KktbVBBIhdne79MjHOOH6N4IwSUhzcAQSmJsoFq8BTtNZx9SonHuzqgk6IvWgKkx0QkhDAiXZbkiAR0IjVi27HrWwiggpQ859JRux2zHMDL_iHVTz4aT5MaALheUkgn18VII_OtIosZqOnmKMZMXlq2PU0d2SIZo9EOr4adZl8OF8-XEWyfQkyfAUHMgfqCWXWNG7bV-OWBP-3MrpBnjKmy9eRpOwL_p0XM8N6JbP3KlRzlWNApD_5lXyv2arhJCqdLCp64Rbly-OXwe248CsuoOjDDerk_E6Jnlgjz8LhTcJJTMHUa0ZzjAiJ4gr8qwTIbQPbvnAapHDn4DAJ7VhjNmi394_eXa0UIsbjRORFw8kstJexBbgpnajRtOhw_5rruVdeoUp6RmMVKmHMJA-achEjMsn0NqL-otZjkRwKPJPmaGGckoz4eMZFfMCCnCUKwcfw_7TQQ8o94ug-N6Gb5noC4u38yz1BMrn4lzM9xo4kGF-3bIzYrWgsEBltJ4ZyVf5_x_fJUt9JZoAGu9fghP7pI-3-S4pFAA2pmb729EwySGtEMyHuK6UPKJSmARzh-UBNdo7WAVi1XNk2rUIU8jE_FpvfFXKC7_ZhMeHmSd7y0]--></g></svg>