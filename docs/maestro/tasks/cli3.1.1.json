{
  "task_id": "cli3.1.1",
  "name": "Discussion Module Structure",
  "status": "planned",
  "priority": "P2",
  "estimated_hours": null,
  "description": [
    "- `context_type`: \"track\" | \"phase\" | \"task\" | \"general\"",
    "- `context_id`: Optional track/phase/task ID",
    "- `allowed_actions`: List of JSON action types allowed in this context",
    "- `system_prompt`: Context-specific instructions for AI",
    "- `EDITOR`: Use $EDITOR with # comments",
    "- `TERMINAL`: Interactive terminal stream",
    "- `__init__(context: DiscussionContext, mode: DiscussionMode)`",
    "- `start() -> DiscussionResult`",
    "- `add_user_message(msg: str)`",
    "- `add_ai_message(msg: str)`",
    "- `process_command(cmd: str) -> bool`  # Returns True if should exit"
  ],
  "phase_id": "cli-tpt-3",
  "completed": false,
  "created_at": null,
  "updated_at": "2025-12-24T21:07:07.651710",
  "tags": [],
  "owner": null,
  "dependencies": [],
  "subtasks": [
    {
      "content": "Create `maestro/ai/discussion.py`",
      "completed": false,
      "indent": 2
    },
    {
      "content": "Define `DiscussionContext` dataclass:",
      "completed": false,
      "indent": 2
    },
    {
      "content": "Define `DiscussionMode` enum:",
      "completed": false,
      "indent": 2
    },
    {
      "content": "Define `Discussion` class with methods:",
      "completed": false,
      "indent": 2
    }
  ]
}